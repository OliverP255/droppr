<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>DROPPR - London Streetwear Drops</title>
  <link href="https://fonts.googleapis.com/css2?family=Unbounded:wght@700&family=Space+Grotesk:wght@400;500;700&display=swap" rel="stylesheet" />
  <style>
    /* Your existing CSS here, plus: */
    .events-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit,minmax(300px,1fr));
      gap: 25px;
      margin-top: 40px;
    }
    .event-card {
      background: #111;
      border: 1px solid #333;
      border-radius: 12px;
      overflow: hidden;
      transition: all 0.3s ease;
      cursor: pointer;
    }
    .event-card:hover {
      transform: translateY(-4px);
      border-color: #555;
    }
    .event-card img {
      width: 100%;
      height: 200px;
      object-fit: cover;
    }
    .event-content {
      padding: 16px;
      color: #ccc;
    }
    .event-title {
      font-family: 'Unbounded', sans-serif;
      font-size: 1.2rem;
      margin-bottom: 8px;
      color: #fff;
    }
    .event-desc {
      font-size: 0.95rem;
      margin-bottom: 12px;
    }
    .tags {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
    }
    .tag {
      font-size: 11px;
      padding: 6px 12px;
      border-radius: 15px;
      font-weight: 500;
      background: #444;
      text-transform: uppercase;
      color: #eee;
    }
  </style>
</head>
<body>
  <a href="archive.html" class="archive-btn">View Archive</a>
  <header>
    <div class="container">
      <h1 class="logo">DROPPR</h1>
      <p class="subtitle">Hear about drops, pop-ups & fashion events before anyone else.</p>
    </div>
    <div class="container">
      <div class="search-bar">
        <input type="text" class="search-input" id="searchInput" placeholder="Search events..." />
        <select class="filter-select" id="tagFilter">
          <option value="all">All Tags</option>
          <option value="this-week">This Week</option>
          <option value="archived">Archived</option>
          <option value="pop-up">Pop-Up</option>
          <option value="drop">Drop</option>
        </select>
      </div>
    </div>
  </header>

  <div class="container">
    <div id="searchResults"></div>
    <div class="main-content">
      <div class="category-grid">
        <div class="category-box" onclick="window.location.href='popups.html'">
          <img src="https://highxtar.com/wp-content/uploads/2023/03/highxtar-corteiz-nuevo-supreme-1.jpg" alt="Pop-ups" class="category-image" />
          <div class="category-overlay">
            <h2 class="category-title">Pop-Ups</h2>
          </div>
        </div>
        <div class="category-box" onclick="window.location.href='drops.html'">
          <img src="https://culted.com/wp-content/uploads/2023/06/Untitled-1-30.jpg" alt="Drops" class="category-image" />
          <div class="category-overlay">
            <h2 class="category-title">Drops</h2>
          </div>
        </div>
      </div>
    </div>
  </div>

  <footer>
    &copy; 2025 DROPPR. Built for streetwear enthusiasts.
  </footer>

  <script>
    // Your event data all in one place:
    const events = [
      {
        id: "drop1",
        title: "Supreme x Corteiz Drop",
        desc: "Limited edition streetwear drop with Supreme and Corteiz collaboration.",
        image: "https://highxtar.com/wp-content/uploads/2023/03/highxtar-corteiz-nuevo-supreme-1.jpg",
        tags: ["drop", "this-week"],
        url: "drops.html#drop1"
      },
      {
        id: "popup1",
        title: "London Pop-Up Event",
        desc: "Exclusive pop-up featuring top streetwear brands.",
        image: "https://example.com/pop-up1.jpg",
        tags: ["pop-up", "archived"],
        url: "popups.html#popup1"
      },
      {
        id: "drop2",
        title: "New Drop from Culted",
        desc: "Upcoming drop event showcasing new streetwear trends.",
        image: "https://culted.com/wp-content/uploads/2023/06/Untitled-1-30.jpg",
        tags: ["drop"],
        url: "drops.html#drop2"
      }
      // add as many events as you want here
    ];

    function renderEvents(filteredEvents) {
      const container = document.getElementById("searchResults");
      container.innerHTML = "";
      if (filteredEvents.length === 0) {
        container.innerHTML = '<p style="text-align:center;color:#888;">No results found.</p>';
        return;
      }
      // Hide homepage category grid:
      const grid = document.querySelector(".category-grid");
      if (grid) grid.style.display = "none";

      const gridDiv = document.createElement("div");
      gridDiv.className = "events-grid";

      filteredEvents.forEach(event => {
        const card = document.createElement("a");
        card.className = "event-card";
        card.href = event.url;
        card.target = "_blank";

        card.innerHTML = `
          <img src="${event.image}" alt="${event.title}" />
          <div class="event-content">
            <h3 class="event-title">${event.title}</h3>
            <p class="event-desc">${event.desc}</p>
            <div class="tags">
              ${event.tags.map(tag => `<span class="tag">${tag.toUpperCase()}</span>`).join("")}
            </div>
          </div>
        `;
        gridDiv.appendChild(card);
      });

      container.appendChild(gridDiv);
    }

    function filterEvents(query, tagFilter) {
      query = query.toLowerCase();
      tagFilter = tagFilter.toLowerCase();

      return events.filter(event => {
        const matchesQuery =
          !query ||
          event.title.toLowerCase().includes(query) ||
          event.desc.toLowerCase().includes(query) ||
          event.tags.some(t => t.includes(query));

        const matchesTag =
          tagFilter === "all" ||
          event.tags.includes(tagFilter);

        return matchesQuery && matchesTag;
      });
    }

    function resetHomepageGrid() {
      const grid = document.querySelector(".category-grid");
      if (grid) grid.style.display = "grid";
      document.getElementById("searchResults").innerHTML = "";
    }

    function handleSearch() {
      const query = document.getElementById("searchInput").value.trim();
      const tag = document.getElementById("tagFilter").value;

      if (!query && tag === "all") {
        resetHomepageGrid();
        return;
      }

      const filtered = filterEvents(query, tag);
      renderEvents(filtered);
    }

    document.getElementById("searchInput").addEventListener("keypress", e => {
      if (e.key === "Enter") {
        handleSearch();
      }
    });

    document.getElementById("tagFilter").addEventListener("change", handleSearch);
  </script>
</body>
</html>
